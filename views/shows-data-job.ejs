<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show Data Jobs</title>
    <style>  
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }
    
        body {
          font-family: Arial, sans-serif;
          background: #f9f9f9;
          padding: 20px;
        }
    
        .container {
          max-width: 1000px;
          margin: 0 auto;
          background: #fff;
          border-radius: 10px;
          padding: 20px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          position: relative;
        }
    
        .top-link {
          position: absolute;
          top: 20px;
          right: 20px;
          color: #007BFF;
          text-decoration: none;
          font-weight: bold;
        }
    
        .top-link:hover {
          text-decoration: underline;
        }
    
        h4 {
          text-align: center;
          margin-bottom: 20px;
          color: #333;
        }
    
        .table-container {
          width: 100%;
          overflow-x: auto;
        }
    
        table {
          width: 100%;
          border-collapse: collapse;
          font-size: 0.95rem;
        }
    
        th, td {
          border: 1px solid #ddd;
          padding: 10px;
          text-align: left;
        }
    
        th {
          background: #007BFF;
          color: white;
        }
    
        tr:nth-child(even) {
          background: #f2f2f2;
        }
    
        @media (max-width: 600px) {
          .top-link {
            position: static;
            display: block;
            text-align: right;
            margin-bottom: 15px;
          }
    
          .container {
            padding-top: 10px;
          }
    
          table, th, td {
            font-size: 0.85rem;
          }
        }
    </style>
</head>
<body>
<div class="container">
    <a href="/index" class="top-link">หน้าแรก</a><br><br>
    
    <h4>แสดงข้อมูลรับสมัครงาน</h4>
    <% if (locals.data) { %>
    <div class="table-container">
    <table border="1">
        <thead><tr><th>ชื่อบริษัท</th><th>สถานที่ตั้ง</th><th>เว็บไซต์</th><th>ตำแหน่งที่เปิดรับ</th><th>รายละเอียด</th><th>เงินเดือน</th><th>เบอร์ติดต่อ</th><th>วันที่เพิ่มข้อมูล</th></tr></thead>
        <% for (doc of data) {
            let dateTimeSaved = new Date(Date.parse(doc.date_added))
            let transformDate = `${dateTimeSaved.getDate()}-${dateTimeSaved.getMonth() + 1}-${dateTimeSaved.getFullYear()}`

            
        %>
        <tbody>
        <tr>
            <td><%= doc.companyname %></td>
            <td><%= doc.location %></td>
            <td><%= doc.websitecompany %></td>
            <td><%= doc.title %></td>
            <td><%= doc.description %></td>
            <td><%= doc.salary %></td>
            <td><%= doc.telephonenumber %></td>
            <td><%= transformDate %></td>
        </tr>
        </tbody>
        <% } %>
    </table>
    </div>
    <% } %>
</div>
</body>
</html>
